{"ast":null,"code":"import _regeneratorRuntime from\"/Users/user/Desktop/Todo-App/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/user/Desktop/Todo-App/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/user/Desktop/Todo-App/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useSearchParams}from\"react-router-dom\";import axios from\"../../Axios/axios.js\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ResetPassword(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),confirmPassword=_useState4[0],setConfirmPassword=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,1),searchParams=_useSearchParams2[0];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isLoading=_useState10[0],setIsLoading=_useState10[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var token,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();setIsLoading(true);setMessage(\"\");setError(\"\");if(!(password!==confirmPassword)){_context.next=9;break;}setError(\"Passwords do not match\");setIsLoading(false);_context.next=23;break;case 9:_context.prev=9;token=searchParams.get(\"token\");_context.next=13;return axios.post(\"/forgotPassword/resetPassword\",{token:token,password:password});case 13:res=_context.sent;setMessage(res.data.message);_context.next=20;break;case 17:_context.prev=17;_context.t0=_context[\"catch\"](9);setError(_context.t0.response.data.message);case 20:_context.prev=20;setIsLoading(false);return _context.finish(20);case 23:case\"end\":return _context.stop();}},_callee,null,[[9,17,20,23]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold p-5\",children:\"Reset Password\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"w-2/5 mx-auto p-5\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"p-3 rounded-md shadow-lg w-full my-4\",placeholder:\"Enter new password\",onChange:function onChange(e){return setPassword(e.target.value);},value:password,required:true,autoComplete:\"false\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"p-3 rounded-md shadow-lg w-full my-4\",placeholder:\"Confirm new password\",onChange:function onChange(e){return setConfirmPassword(e.target.value);},value:confirmPassword,required:true,autoComplete:false}),/*#__PURE__*/_jsx(\"button\",{className:\"p-2 rounded-md shadow-md bg-indigo-700 text-white px-5 mt-10 disabled:bg-indigo-400\",disabled:isLoading,children:\"Reset\"})]}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-10 bg-green-700 mx-auto w-2/5 p-3 rounded-lg shadow-lg text-white text-lg\",children:/*#__PURE__*/_jsx(\"p\",{children:message})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-10 bg-red-700 mx-auto w-2/5 p-3 rounded-lg shadow-lg text-white text-lg\",children:/*#__PURE__*/_jsx(\"p\",{children:error})})]});}export default ResetPassword;","map":{"version":3,"names":["React","useState","useSearchParams","axios","ResetPassword","password","setPassword","confirmPassword","setConfirmPassword","message","setMessage","error","setError","searchParams","isLoading","setIsLoading","handleSubmit","e","preventDefault","token","get","post","res","data","response","target","value"],"sources":["/Users/user/Desktop/Todo-App/frontend/src/components/forgotPassword/ResetPassword.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useSearchParams } from \"react-router-dom\";\nimport axios from \"../../Axios/axios.js\";\n\nfunction ResetPassword() {\n    const [password, setPassword] = useState(\"\");\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\n    const [message, setMessage] = useState(\"\");\n    const [error, setError] = useState(\"\");\n    const [searchParams] = useSearchParams();\n    const [isLoading, setIsLoading] = useState(false)\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        setIsLoading(true)\n        setMessage(\"\");\n        setError(\"\");\n        if (password !== confirmPassword) {\n            setError(\"Passwords do not match\");\n            setIsLoading(false)\n        } else {\n            try {\n                const token = searchParams.get(\"token\");\n                const res = await axios.post(\"/forgotPassword/resetPassword\", {token, password })\n                setMessage(res.data.message);\n            } catch (error) {\n                setError(error.response.data.message)\n            }finally{\n                setIsLoading(false)\n            }\n           \n        }\n    }\n    return (\n        <div className='text-center'>\n            <h1 className='text-xl font-bold p-5'>Reset Password</h1>\n            <form className=\"w-2/5 mx-auto p-5\" onSubmit={handleSubmit}>\n                <input type=\"password\"\n                    className=\"p-3 rounded-md shadow-lg w-full my-4\"\n                    placeholder=\"Enter new password\"\n                    onChange={(e) => setPassword(e.target.value)}\n                    value={password}\n                    required\n                    autoComplete='false'\n                />\n                <input type=\"password\"\n                    className=\"p-3 rounded-md shadow-lg w-full my-4\"\n                    placeholder=\"Confirm new password\"\n                    onChange={(e) => setConfirmPassword(e.target.value)}\n                    value={confirmPassword}\n                    required\n                    autoComplete={false}\n                />\n                <button className=\"p-2 rounded-md shadow-md bg-indigo-700 text-white px-5 mt-10 disabled:bg-indigo-400\" disabled={isLoading}>Reset</button>\n            </form>\n            {\n                message && <div className='mt-10 bg-green-700 mx-auto w-2/5 p-3 rounded-lg shadow-lg text-white text-lg'>\n                    <p>\n                        {message}\n                    </p>\n                </div>\n            }\n            {\n                error && <div className='mt-10 bg-red-700 mx-auto w-2/5 p-3 rounded-lg shadow-lg text-white text-lg'>\n                    <p>\n                        {error}\n                    </p>\n                </div>\n            }\n        </div>\n    );\n}\n\nexport default ResetPassword;"],"mappings":"iYAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,eAAe,KAAQ,kBAAkB,CAClD,MAAOC,MAAK,KAAM,sBAAsB,CAAC,wFAEzC,QAASC,cAAa,EAAG,CACrB,cAAgCH,QAAQ,CAAC,EAAE,CAAC,wCAArCI,QAAQ,eAAEC,WAAW,eAC5B,eAA8CL,QAAQ,CAAC,EAAE,CAAC,yCAAnDM,eAAe,eAAEC,kBAAkB,eAC1C,eAA8BP,QAAQ,CAAC,EAAE,CAAC,yCAAnCQ,OAAO,eAAEC,UAAU,eAC1B,eAA0BT,QAAQ,CAAC,EAAE,CAAC,yCAA/BU,KAAK,eAAEC,QAAQ,eACtB,qBAAuBV,eAAe,EAAE,sDAAjCW,YAAY,sBACnB,eAAkCZ,QAAQ,CAAC,KAAK,CAAC,0CAA1Ca,SAAS,gBAAEC,YAAY,gBAE9B,GAAMC,aAAY,4FAAG,iBAAOC,CAAC,iIACzBA,CAAC,CAACC,cAAc,EAAE,CAClBH,YAAY,CAAC,IAAI,CAAC,CAClBL,UAAU,CAAC,EAAE,CAAC,CACdE,QAAQ,CAAC,EAAE,CAAC,CAAC,KACTP,QAAQ,GAAKE,eAAe,0BAC5BK,QAAQ,CAAC,wBAAwB,CAAC,CAClCG,YAAY,CAAC,KAAK,CAAC,+CAGTI,KAAK,CAAGN,YAAY,CAACO,GAAG,CAAC,OAAO,CAAC,wBACrBjB,MAAK,CAACkB,IAAI,CAAC,+BAA+B,CAAE,CAACF,KAAK,CAALA,KAAK,CAAEd,QAAQ,CAARA,QAAS,CAAC,CAAC,SAA3EiB,GAAG,eACTZ,UAAU,CAACY,GAAG,CAACC,IAAI,CAACd,OAAO,CAAC,CAAC,iFAE7BG,QAAQ,CAAC,YAAMY,QAAQ,CAACD,IAAI,CAACd,OAAO,CAAC,0BAErCM,YAAY,CAAC,KAAK,CAAC,sGAI9B,kBApBKC,aAAY,4CAoBjB,CACD,mBACI,aAAK,SAAS,CAAC,aAAa,wBACxB,WAAI,SAAS,CAAC,uBAAuB,UAAC,gBAAc,EAAK,cACzD,cAAM,SAAS,CAAC,mBAAmB,CAAC,QAAQ,CAAEA,YAAa,wBACvD,cAAO,IAAI,CAAC,UAAU,CAClB,SAAS,CAAC,sCAAsC,CAChD,WAAW,CAAC,oBAAoB,CAChC,QAAQ,CAAE,kBAACC,CAAC,QAAKX,YAAW,CAACW,CAAC,CAACQ,MAAM,CAACC,KAAK,CAAC,EAAC,CAC7C,KAAK,CAAErB,QAAS,CAChB,QAAQ,MACR,YAAY,CAAC,OAAO,EACtB,cACF,cAAO,IAAI,CAAC,UAAU,CAClB,SAAS,CAAC,sCAAsC,CAChD,WAAW,CAAC,sBAAsB,CAClC,QAAQ,CAAE,kBAACY,CAAC,QAAKT,mBAAkB,CAACS,CAAC,CAACQ,MAAM,CAACC,KAAK,CAAC,EAAC,CACpD,KAAK,CAAEnB,eAAgB,CACvB,QAAQ,MACR,YAAY,CAAE,KAAM,EACtB,cACF,eAAQ,SAAS,CAAC,qFAAqF,CAAC,QAAQ,CAAEO,SAAU,UAAC,OAAK,EAAS,GACxI,CAEHL,OAAO,eAAI,YAAK,SAAS,CAAC,8EAA8E,uBACpG,mBACKA,OAAO,EACR,EACF,CAGNE,KAAK,eAAI,YAAK,SAAS,CAAC,4EAA4E,uBAChG,mBACKA,KAAK,EACN,EACF,GAER,CAEd,CAEA,cAAeP,cAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}